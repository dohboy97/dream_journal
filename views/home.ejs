<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href = "css/dist/output.css" rel = 'stylesheet'>
    <title>Dream Journal</title>
</head>
<body class = 'flex mx-6 min-h-screen'>
    
    
    <main class = 'mx-auto bg-indigo-400 h-full h-screen rounded-lg md:w-5/6 lg:w-3/4 w-full my-auto opacity-80 flex flex-col overflow-y-auto'>

        <!-- top and nav -->

        <div class='flex w-full justify-between border-b-1 border-b-indigo-600 h-36 items-center'>
            <div class='flex flex-col pl-5 w-14 h-16'>
                <div class='flex justify-end'>
                    <span>Z</span>
                </div>
                <div class='flex justify-center'>
                    <span class='text-sm'>Z</span>
                </div>
                <div class='flex justify-start'>
                    <span class='text-xs'>z</span>
                </div>
                
            </div>
            
            <nav class='flex justify-around w-56 md:w-60 pr-4'>
                
                <a class='text-amber-400 hover:underline md:text-xl' href='/'>Home</a>

                <a class='text-amber-400 hover:underline md:text-xl' href='/info'>Info</a>
                <a class='text-amber-400 hover:underline md:text-xl' href='/logout'>Logout</a>
            </nav>
       
       </div>
       
       <section class='flex flex-col pt-8 pr-4 pl-4 h-full overflow-y-auto'>

        
      
       
        <!--If else statement - if todays dream exists, show it. if not, give suggestion to visit journal page-->

        <div class = 'h-full flex flex-col justify-around items-center '>
            <div class = 'flex flex-col justify-center items-center mb-10'>
            <h1 class = 'text-amber-400 text-5xl mb-10'>Dashboard</h1>
            <h2 class = 'text-amber-400 text-3xl mb-10'>Hello <%=user.userName%></h2>
            <h3 class = 'text-2xl'> <%= date %></h3>
                </div>
            <div class = 'h-1/2 text-2xl sm:w-1/2 flex flex-col items-center'>
            <% if(dreams){ %>
                <h2 class = 'mb-8 text-2xl'>Todays Dream Entry:</h2>
               <div class='dream flex flex-col items-center h-full w-full' data-id='<%=dreams._id%>'>
                <% if(dreams.title){ %>
                        <h3 class = 'text-amber-400 mb-5'>Title: <%= dreams.title %></h3> 
                    <% } %>
                    <div class = 'border-2 border-indigo-600 p-6 max-w-fit'>
                        
                   <span><%= dreams.dream %></span>
                   </div>
                   <div class = 'flex justify-between w-52 mb-12 mt-12'>
                   <span class='del text-amber-400 underline hover:text-amber-200 hover:cursor-pointer text-2xl'> Delete </span>
                   <a href = '/journal/edit/<%=dreams._id%>'class = 'edit text-amber-400 underline hover:text-amber-200 hover:cursor-pointer text-2xl'>Edit</a>
                   <a href = '/journal/view/<%=dreams._id%>'class = 'edit text-amber-400 underline hover:text-amber-200 hover:cursor-pointer text-2xl'>View</a>
                   </div>
                   <a class = 'underline hover:text-amber-200 hover:cursor-pointer text-2xl text-amber-400'  href = '/journal/entries/page/1'>View previous entries</a>
               </div>
               
           <% }else{ %>  
            <h2 class = 'mb-8'>It appears that you have yet to log your dream journal today. Click below to do so - before you forget it!</h2>
               <a class = 'text-amber-400 underline hover:text-amber-200 hover:cursor-pointer text-3xl mb-12'href = '/journal'>Journal Page</a>
               <a class = 'underline hover:text-amber-200 hover:cursor-pointer text-2xl text-amber-400'  href = '/journal/entries/page/1'>View previous entries</a>
               <% } %>  
            </div>
          
           </div>
         
        </section>
    </main>
    <script src = 'js/main.js'></script>
</body>
</html>